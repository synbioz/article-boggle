module Boggle
  module Language
    LANGUAGE_FREQUENCIES = {
      :fr => [[8122, 9023, 12368, 16037, 33152, 34218, 35084, 35821, 43400, 43945, 43994, 49450,
               52418, 59513, 64891, 67912, 69274, 75827, 83775, 91019, 97388, 99016, 99130, 99517,
               99825, 99961], (0...99961)],

      :en => [[11602, 16304, 19815, 22485, 24485, 28264, 30214, 37446, 43732, 44363, 45053, 47758,
               52132, 54497, 60761, 63306, 63479, 65132, 72887, 89558, 91045, 91664, 98325, 98330,
               99950, 100000], (0...100000)],

      :de => [[6510, 8400, 11460, 16540, 33940, 35600, 38610, 43370, 50920, 51190, 52400, 55840,
               58370, 68150, 70660, 71450, 71470, 78470, 85740, 91890, 96240, 96910, 98800, 98830,
               98870, 100000], (0...100000)],

      :es => [[12530, 13950, 18630, 24490, 38170, 38860, 39870, 40570, 46820, 47260, 47270, 52240,
               55390, 62100, 70780, 73290, 74170, 81040, 89020, 93650, 97580, 98480, 98500, 98720,
               99620, 100140], (0...100140)],

      :it => [[11740, 12660, 13110, 16840, 28630, 29580, 31220, 32760, 44040, 44040, 44040, 50550,
               53060, 59940, 69770, 72820, 73330, 79700, 84680, 90300, 93310, 95410, 95410, 95410,
               95410, 95900], (0...95900)]
    }

    def self.letter(lang_sym)
      raise ArgumentError.new "The '#{lang_sym}' language is not found." unless LANGUAGE_FREQUENCIES.keys.include?(lang_sym)
      frequencies, range = LANGUAGE_FREQUENCIES[lang_sym]
      x = rand(range)
      i = 0 ; while x > frequencies[i] and i += 1 ; end
      (i + 65).chr
    end
  end
end
